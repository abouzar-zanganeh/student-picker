# 📚 معرفی برنامه دستیار هوشمند معلم (Smart Teacher's Assistant)

یک ابزار تحت وب، مدرن و هوشمند برای کمک به معلمان در مدیریت کلاس، ثبت دقیق فعالیت‌ها و انتخاب عادلانه دانش‌آموزان برای مشارکت در کلاس. این برنامه به‌صورت کاملاً سمت کاربر (Client-Side) و با جاوااسکریپت خالص (Vanilla JS) نوشته شده و تمام داده‌ها را به‌صورت امن در حافظه مرورگر شما (`localStorage`) ذخیره می‌کند.

---

## 🎯 فلسفه اصلی برنامه

هدف اصلی این دستیار، حل دو چالش بزرگ در کلاس درس است:

1.  **مشارکت عادلانه**: اطمینان از اینکه تمام دانش‌آموزان به یک اندازه شانس مشارکت در فعالیت‌های کلاسی را داشته باشند.
2.  **ردگیری دقیق عملکرد**: علاوه بر ثبت نمرات، ثبت داده‌های آماری دقیق و کاربردی از عملکرد هر دانش‌آموز در طول ترم.

---

## 🚀 ویژگی‌های کلیدی

### ۱. انتخابگر هوشمند و منصفانه (الگوریتم چندسطحی)

این برنامه از یک الگوریتم چندمرحله‌ای دقیق استفاده می‌کند تا عدالت آموزشی را به حداکثر برساند:

-   **فیلتر اولیه (بر اساس دسته‌بندی فعلی)**:
    1.  سیستم کمترین تعداد انتخاب را در دسته‌بندی فعال (مثلاً "گرامر") شناسایی می‌کند.
    2.  سپس، لیستی از دانش‌آموزانی که با این تعداد انتخاب برابر هستند تهیه می‌کند.
-   **اولین گره‌گشا (بر اساس سایر دسته‌بندی‌ها)**:
    1.  اگر تنها یک نفر کاندیدا باشد، او انتخاب می‌شود.
    2.  در صورت وجود چند کاندیدا، سیستم مجموع انتخاب‌های آن‌ها را در سایر دسته‌بندی‌ها محاسبه می‌کند.
    3.  دانش‌آموزی که مجموع کمتری دارد، انتخاب می‌شود.
-   **گره‌گشای نهایی (انتخاب تصادفی)**:
    اگر شرایط بین چند نفر کاملاً برابر باشد، انتخاب نهایی به‌صورت تصادفی انجام می‌شود.

این الگوریتم تضمین می‌کند که انتخاب‌ها در کل فعالیت‌های کلاسی به‌صورت متوازن توزیع شوند.

### ۲. جدول پیشرفته آمار و عملکرد (Advanced Statistics Table)

برای نمایش دقیق و خوانای آمارها، برنامه از یک جدول داده پیشرفته استفاده می‌کند که دارای ویژگی‌های زیر است:

-   **اسکرول افقی**: با توجه به تعدد ستون‌ها، جدول به صورت افقی قابل اسکرول است تا تمام داده‌ها به راحتی در دسترس باشند.
-   **ستون «نام» ثابت (Sticky Column)**: هنگام اسکرول افقی، ستون نام دانش‌آموز در جای خود ثابت باقی می‌ماند تا هویت هر ردیف همیشه مشخص باشد.
-   **ستون‌های داینامیک**: علاوه بر ستون‌های آماری ثابت (مانند کل انتخاب‌ها، غیبت و...)، ستون‌های مربوط به دسته‌بندی‌های نمره‌دهی (مانند `Listening`, `Speaking`) به صورت خودکار بر اساس تنظیمات هر کلاس ایجاد می‌شوند.
-   **اندازه ستون نام متغیر**: برای جلوگیری از اشغال فضای زیاد توسط نام‌های طولانی، ستون «نام» به صورت پیش‌فرض عرض محدودی دارد. با کلیک بر روی هدر این ستون، عرض آن افزایش یافته و نام‌های کامل نمایش داده می‌شوند.

### ۴. مدیریت پیشرفته وضعیت جلسه

-   **انحصار متقابل** بین گزینه‌های "غیبت" و "مشکل".
-   **حفظ وضعیت انتخاب‌ها** هنگام جابجایی بین صفحات.

### ۵. مدیریت پیشرفته جلسات
نشانگرهای وضعیت:

خاتمه‌یافته

جبرانی

لغو شده

کنترل‌های جلسه: اقدامات اصلی مانند خاتمه جلسه (✅) و یادداشت‌برداری (📝) همیشه در دسترس هستند، در حالی که سایر کنترل‌ها (لغو، جبرانی، حذف) برای خلوت ماندن محیط، در منوی راست-کلیک سازماندهی شده‌اند.

شماره‌گذاری داینامیک: جلسات لغو شده در شماره‌گذاری جلسات فعال تاثیری ندارند و توالی شماره‌ها به صورت خودکار حفظ می‌شود.

### ۶. مدیریت کلاس و دانش‌آموزان (Class & Student Management)

-   ایجاد کلاس‌های متعدد (حضوری / آنلاین)
-   افزودن دانش‌آموز از سه روش:
    -   دستی
    -   کپی/پیست
    -   فایل CSV
-   تغییر نام کلاس‌ها و دانش‌آموزان
-   تعریف دسته‌بندی برای مشارکت یا نمره‌دهی (با چک‌باکس در ساخت دسته‌بندی)
-   نمایش آمار کلاس‌ها (تعداد دانش‌آموز و جلسه)

### ۷. پروفایل دانش‌آموز و سیستم نمره‌دهی (Student Profile & Scoring System)

-   سیستم نمره‌دهی قابل شخصی‌سازی بر اساس دسته‌بندی‌های قابل نمره‌دهی
-   پروفایل کامل دانش‌آموز شامل:
    -   سوابق عملکردی
    -   تاریخچه نمرات و یادداشت‌ها

### ۸. جستجوی سریع دانش‌آموز

-   **جستجوی سراسری**: یافتن هر دانش‌آموز در تمام کلاس‌ها
-   **جستجو در کلاس فعال**: محدود به کلاس جاری
-   **رابط کاربری پیشرفته** با انیمیشن‌های Slide-in/out

### ۹. نمایش سریع سوابق دانش‌آموز

-   نمایش آنی خلاصه عملکرد پس از انتخاب توسط انتخابگر هوشمند
-   لیست نمرات اخیر مهارت‌ها (Reading, Writing, Speaking, Listening)
-   مرور سریع یادداشت‌ها به‌ترتیب زمانی
-   کاهش نیاز به باز کردن پروفایل کامل

### ۱۰. رابط کاربری ایمن و مدرن

-   **منوی همبرگری** برای دسترسی سریع به قابلیت‌ها
-   **انیمیشن‌های روان** (Fade-in / Slide-up & Slide-down)
-   **پنجره‌های تأیید سفارشی** برای جلوگیری از حذف تصادفی
-   **قابلیت Undo** پس از حذف کلاس، جلسه یا دانش‌آموز
-   **میانبرهای صفحه‌کلید**:
    -   `Esc`: بازگشت به صفحه قبلی
    -   `ArrowLeft / ArrowRight`: ناوبری بین برندگان قبلی و بعدی در صفحه انتخاب دانش‌آموز

### ۱۱. پشتیبان‌گیری و بازیابی اطلاعات

-   **پشتیبان‌گیری (Backup)**:
    -   دریافت فایل `JSON` از تمام داده‌ها
    -   نام‌گذاری خودکار بر اساس تاریخ شمسی (مثلاً `teacher-assistant-backup-۱۴۰۳-۰۴-۲۵.json`)
-   **بازیابی (Restore)**:
    -   بارگذاری فایل پشتیبان
    -   نمایش پیام هشدار پیش از جایگزینی داده‌ها

### ۱۲. ثبت سریع نمره و یادداشت (Quick-Grade Form)

برای افزایش سرعت و کارایی معلم، یک فرم همیشه-فعال در صفحه دانش‌آموزان تعبیه شده است. این قابلیت به معلم اجازه می‌دهد تا بدون نیاز به ورود به پروفایل کامل دانش‌آموز، به سرعت برای دسته‌بندی‌های قابل نمره‌دهی، نمره و یادداشت مربوطه را ثبت کند.

-   **ورودی هوشمند**: پس از ثبت، فیلدهای نمره و یادداشت به صورت خودکار برای ورود اطلاعات بعدی پاک می‌شوند.
-   **بازخورد لحظه‌ای**: نمره جدید بلافاصله در بخش سوابق دانش‌آموز (که در همان صفحه قابل مشاهده است) نمایش داده می‌شود.

### ۱۳. ویرایش و بازبینی برندگان قبلی (Edit and Review Previous Winners)

برای افزایش انعطاف‌پذیری در حین کلاس، قابلیتی برای بازبینی و ویرایش وضعیت برندگان قبلی در همان جلسه فراهم شده است.

-   **ناوبری تاریخچه**: با استفاده از دکمه‌های نشان دهنده ی جهت در کنار نام برنده، می‌توان تا ۱۰ انتخاب قبلی را مرور کرد.
-   **همگام‌سازی دسته‌بندی**: هنگام بازگشت به یک برنده قبلی، دسته‌بندی فعال نیز به صورت خودکار به دسته‌بندی مربوط به همان انتخاب تغییر می‌کند تا از ثبت نمره یا آمار اشتباه جلوگیری شود.
-   **بازخورد هوشمند**: در صورتی که کاربر روی دکمه‌های ناوبری غیرفعال (در ابتدا یا انتهای تاریخچه) کلیک کند، یک انیمیشن لرزشی کوتاه به عنوان بازخورد بصری نمایش داده می‌شود.

### ۱۴. یادداشت‌گذاری در سطح کلاس و جلسه (Class & Session Notes)

-   **یادداشت برای کلاس**: برای هر کلاس می‌توان یک یادداشت کلی ثبت کرد که از طریق آیکون `📝` در لیست کلاس‌ها قابل دسترس است.
-   **یادداشت برای جلسه**: هر جلسه نیز قابلیت داشتن یادداشت مجزا را دارد که به معلم اجازه می‌دهد نکات مربوط به آن جلسه خاص را ثبت کند.
-   **رابط کاربری هوشمند**: آیکون یادداشت در صورتی که یادداشتی وجود داشته باشد، پررنگ‌تر نمایش داده می‌شود تا دسترسی سریع را ممکن سازد.

### ۱۵. پشتیبانی هوشمند از متن‌های راست‌چین و چپ‌چین (Smart RTL/LTR Support)

-   **تشخیص خودکار**: تمامی کادرهای ورود متن (یادداشت‌ها، توضیحات نمره و ...) به صورت خودکار جهت متن (راست‌چین یا چپ‌چین) را بر اساس اولین کاراکتر تایپ شده تشخیص داده و تنظیم می‌کنند.
-   **نمایش صحیح**: متن‌های ذخیره شده نیز با همان جهت‌گیری صحیح نمایش داده می‌شوند و مشکل چینش علائم نگارشی در متن‌های دوزبانه (فارسی و انگلیسی) به طور کامل حل شده است.

### ۱۶. ویرایش مستقیم و سریع (Click-to-Edit)

-   برای افزایش سرعت و راحتی، اکنون می‌توانید مستقیماً روی موارد زیر در صفحه پروفایل دانش‌آموز کلیک کنید:
    -   **نام دانش‌آموز**: برای تغییر سریع نام.
    -   **متن یادداشت‌ها**: برای ویرایش یادداشت‌های قبلی.
    -   **توضیحات نمرات**: برای اصلاح یا تکمیل توضیحات ثبت‌شده برای یک نمره.
-   با کلیک روی هر یک از این موارد، پنجره ویرایش باز شده و به شما اجازه می‌دهد به سرعت تغییرات خود را اعمال و ذخیره کنید.
-   یک افکت هاور بصری نیز به کاربر اطلاع می‌دهد که کدام متن‌ها قابل ویرایش هستند.

### ۱۷. منوی زمینه هوشمند (راست-کلیک)
برای ایجاد یک رابط کاربری مدرن و خلوت، اقدامات ثانویه (مانند `تغییر نام`, `حذف`, `تنظیمات`, `لغو` و `جبرانی`) از لیست اصلی کلاس‌ها و جلسات به یک منوی راست-کلیک هوشمند منتقل شده‌اند. این طراحی باعث می‌شود تا تمرکز کاربر بر روی اطلاعات اصلی باقی بماند و از شلوغی بصری جلوگیری شود و تجربه‌ای شبیه به نرم‌افزارهای دسکتاپ ارائه دهد.

---

## 🤫 قابلیت‌های مخفی (Easter Eggs)

-   **ساخت کلاس تستی**: با ۵ کلیک سریع روی «لیست کلاس‌ها»، یک کلاس آزمایشی ایجاد می‌شود.
-   **صفر کردن آمارها**: با ۵ کلیک سریع روی «آمار عملکرد دانش‌آموزان»، تمام شمارنده‌ها صفر می‌شوند.

> **نکته**: هر دو عملیات با یک پنجره تأیید انجام می‌گیرند.

---

## 🛠️ تکنولوژی‌های استفاده‌شده

این پروژه به‌صورت کامل با Vanilla JavaScript توسعه داده شده است و نیازی به هیچ فریمورک یا کتابخانه جانبی ندارد.

-   HTML5
-   CSS3 (با استفاده از متغیرها برای مدیریت تم)
-   JavaScript (ES6+) با معماری ماژولار (`main.js`, `models.js`, `state.js`, `ui.js`)
-   LocalStorage API برای ذخیره داده‌ها

---

## 📂 نحوه استفاده

این برنامه کاملاً سمت کاربر است و نیازی به نصب ابزار خاصی ندارد:

1.  پروژه را دانلود و از حالت فشرده خارج کنید.
2.  فایل `index.html` را در مرورگر باز کنید.
3.  آماده استفاده است!

---

## 📄 لایسنس

این پروژه تحت لایسنس MIT منتشر شده است.