📚 معرفی برنامه دستیار هوشمند معلم (Smart Teacher's Assistant)
یک ابزار تحت وب، مدرن و هوشمند برای کمک به معلمان در مدیریت کلاس، ثبت دقیق فعالیت‌ها و انتخاب عادلانه دانش‌آموزان برای مشارکت در کلاس. این برنامه به‌صورت کاملاً سمت کاربر (Client-Side) و با جاوااسکریپت خالص (Vanilla JS) نوشته شده و تمام داده‌ها را به‌صورت امن در حافظه مرورگر شما (localStorage) ذخیره می‌کند.

🎯 فلسفه اصلی برنامه
هدف اصلی این دستیار، حل دو چالش بزرگ در کلاس درس است:

مشارکت عادلانه: اطمینان از اینکه تمام دانش‌آموزان به یک اندازه شانس مشارکت در فعالیت‌های کلاسی را داشته باشند.

ردگیری دقیق عملکرد: علاوه بر ثبت نمرات، ثبت داده‌های آماری دقیق و کاربردی از عملکرد هر دانش‌آموز در طول ترم.

🚀 ویژگی‌های کلیدی
۱. انتخابگر هوشمند و منصفانه (الگوریتم چندسطحی)
این برنامه از یک الگوریتم چندمرحله‌ای دقیق استفاده می‌کند تا عدالت آموزشی را به حداکثر برساند:

فیلتر اولیه (بر اساس دسته‌بندی فعلی):

سیستم کمترین تعداد انتخاب را در دسته‌بندی فعال (مثلاً "گرامر") شناسایی می‌کند.

سپس، لیستی از دانش‌آموزانی که با این تعداد انتخاب برابر هستند تهیه می‌کند.

اولین گره‌گشا (بر اساس سایر دسته‌بندی‌ها):

اگر تنها یک نفر کاندیدا باشد، او انتخاب می‌شود.

در صورت وجود چند کاندیدا، سیستم مجموع انتخاب‌های آن‌ها را در سایر دسته‌بندی‌ها محاسبه می‌کند.

دانش‌آموزی که مجموع کمتری دارد، انتخاب می‌شود.

گره‌گشای نهایی (انتخاب تصادفی):
اگر شرایط بین چند نفر کاملاً برابر باشد، انتخاب نهایی به‌صورت تصادفی انجام می‌شود.

این الگوریتم تضمین می‌کند که انتخاب‌ها در کل فعالیت‌های کلاسی به‌صورت متوازن توزیع شوند.

۲. جدول آمار تعاملی (Interactive Statistics Table)
جدول آمار از یک گزارش ساده به یک هاب تعاملی برای نظارت و نمره‌دهی سریع تبدیل شده است:

نمایش نمرات به جای شمارنده: به‌جای شمارنده‌های انتخاب، جدول اکنون نمرات واقعی هر دانش‌آموز را در دسته‌بندی‌های نمره‌دهی نمایش می‌دهد (مثلاً 77,80,60).

یادداشت‌های شناور (Tooltips): با نگه داشتن ماوس روی هر نمره، یادداشت مربوط به آن در یک tooltip نمایش داده می‌شود و دسترسی سریع به جزئیات را فراهم می‌کند.

چیدمان اولویت‌بندی شده: ستون‌ها با اولویت‌بندی جدیدی چیده شده‌اند: نام، نمرات، و سپس سایر آمارها تا اطلاعات مهم‌تر در دسترس باشند.

نمره‌دهی مستقیم از جدول: با کلیک روی سلول هر نمره (مثلاً نمره Speaking برای یک دانش‌آموز)، آن دانش‌آموز و دسته‌بندی به‌صورت خودکار در پنل «انتخابگر هوشمند» قرار می‌گیرند تا معلم بتواند به سرعت از فرم نمره‌دهی سریع استفاده کند.

ناوبری سریع: نام هر دانش‌آموز یک لینک مستقیم به پروفایل کامل او است و ستون «نام» هنگام اسکرول افقی ثابت باقی می‌ماند.

۳. مدیریت پیشرفته وضعیت جلسه (Advanced Session Status Management)
این بخش شامل ابزارهایی برای ردگیری دقیق وضعیت هر دانش‌آموز در طول یک جلسه است:

ردگیری وضعیت تکلیف (Homework Status Tracking):

یکپارچه‌سازی با صفحه حضور و غیاب: وضعیت تکلیف هر دانش‌آموز مستقیماً در صفحه حضور و غیاب مدیریت می‌شود.

کنترل سه-وضعیتی سریع: با یک دکمه می‌توان وضعیت تکلیف را بین سه حالت «کامل» (✅)، «ناقص» (⚠️) و «انجام نشده» (❌) تغییر داد.

یادداشت‌های اختصاصی: برای هر تکلیف می‌توان یک یادداشت جداگانه (مثلاً دلیل ناقص بودن) ثبت کرد.

خلاصه عملکرد: لیستی از شماره جلساتی که تکلیف آن‌ها ناقص بوده یا انجام نشده، برای هر دانش‌آموز نمایش داده می‌شود.

رویکرد دانش‌آموز-محور: به صورت پیش‌فرض، تکلیف همه دانش‌آموزان «کامل» در نظر گرفته می‌شود تا در صورت فراموشی معلم، حقی از دانش‌آموز ضایع نشود.

انحصار متقابل بین گزینه‌های "غیبت" و "مشکل".

حفظ وضعیت انتخاب‌ها هنگام جابجایی بین صفحات.

ردگیری خروج موقت (Temporary Exit Tracking):

برای مدیریت شرایطی که دانش‌آموزِ انتخاب‌شده به طور موقت در دسترس نیست (مثلاً در کلاس آنلاین)، یک دکمه جدید «خروج» به پنل انتخاب دانش‌آموز اضافه شده است.

با فعال کردن این دکمه، یک شمارنده سراسری برای خروج‌های دانش‌آموز ثبت شده و این مورد به عنوان یک «فرصت از دست رفته» نیز محسوب می‌شود.

این وضعیت با گزینه‌های «غیبت» و «مشکل» انحصار متقابل دارد و انتخاب یکی، سایر گزینه‌ها را غیرفعال می‌کند.

نام دانش‌آموز نیز با هایلایت رنگی مشخص می‌شود تا وضعیت او به سادگی قابل تشخیص باشد.

۴. مدیریت پیشرفته جلسات
نشانگرهای وضعیت: خاتمه‌یافته، جبرانی، لغو شده.

کنترل‌های جلسه: اقدامات اصلی مانند خاتمه جلسه (✅) و یادداشت‌برداری (📝) همیشه در دسترس هستند، در حالی که سایر کنترل‌ها (لغو، جبرانی، حذف) برای خلوت ماندن محیط، در منوی راست-کلیک سازماندهی شده‌اند.

شماره‌گذاری داینامیک: جلسات لغو شده در شماره‌گذاری جلسات فعال تاثیری ندارند و توالی شماره‌ها به صورت خودکار حفظ می‌شود.

۵. مدیریت کلاس و دانش‌آموزان (Class & Student Management)
ایجاد کلاس‌های متعدد (حضوری / آنلاین)

افزودن دانش‌آموز از سه روش:

دستی

کپی/پیست

فایل CSV

تغییر نام کلاس‌ها و دانش‌آموزان

تعریف دسته‌بندی برای مشارکت یا نمره‌دهی (با چک‌باکس در ساخت دسته‌بندی)

نمایش آمار کلاس‌ها (تعداد دانش‌آموز و جلسه)

۶. پروفایل دانش‌آموز و سیستم نمره‌دهی (Student Profile & Scoring System)
سیستم نمره‌دهی قابل شخصی‌سازی بر اساس دسته‌بندی‌های قابل نمره‌دهی

پروفایل کامل دانش‌آموز شامل:

سوابق عملکردی

تاریخچه نمرات و یادداشت‌ها

۷. جستجوی سریع دانش‌آموز
جستجوی سراسری: یافتن هر دانش‌آموز در تمام کلاس‌ها

جستجو در کلاس فعال: محدود به کلاس جاری

رابط کاربری پیشرفته با انیمیشن‌های Slide-in/out

۸. نمایش سریع سوابق دانش‌آموز
نمایش آنی خلاصه عملکرد پس از انتخاب توسط انتخابگر هوشمند

لیست نمرات اخیر مهارت‌ها (Reading, Writing, Speaking, Listening)

مرور سریع یادداشت‌ها به‌ترتیب زمانی

کاهش نیاز به باز کردن پروفایل کامل

۹. رابط کاربری ایمن و مدرن
منوی همبرگری برای دسترسی سریع به قابلیت‌ها

انیمیشن‌های روان (Fade-in / Slide-up & Slide-down)

پنجره‌های تأیید سفارشی برای جلوگیری از حذف تصادفی

قابلیت Undo پس از حذف کلاس، جلسه یا دانش‌آموز

میانبرهای صفحه‌کلید:

Esc: بازگشت به صفحه قبلی

ArrowLeft / ArrowRight: ناوبری بین برندگان قبلی و بعدی در صفحه انتخاب دانش‌آموز

۱۰. پشتیبان‌گیری و بازیابی اطلاعات
پشتیبان‌گیری (Backup):

دریافت فایل JSON از تمام داده‌ها

نام‌گذاری خودکار بر اساس تاریخ شمسی (مثلاً teacher-assistant-backup-۱۴۰۳-۰۴-۲۵.json)

بازیابی (Restore):

بارگذاری فایل پشتیبان

نمایش پیام هشدار پیش از جایگزینی داده‌ها

۱۱. ثبت سریع نمره و یادداشت (Quick-Grade Form)
برای افزایش سرعت و کارایی معلم، یک فرم همیشه-فعال در صفحه دانش‌آموزان تعبیه شده است. این قابلیت به معلم اجازه می‌دهد تا بدون نیاز به ورود به پروفایل کامل دانش‌آموز، به سرعت برای دسته‌بندی‌های قابل نمره‌دهی، نمره و یادداشت مربوطه را ثبت کند.

ورودی هوشمند: پس از ثبت، فیلدهای نمره و یادداشت به صورت خودکار برای ورود اطلاعات بعدی پاک می‌شوند.

بازخورد لحظه‌ای: نمره جدید بلافاصله در بخش سوابق دانش‌آموز (که در همان صفحه قابل مشاهده است) نمایش داده می‌شود.

۱۲. ویرایش و بازبینی برندگان قبلی (Edit and Review Previous Winners)
برای افزایش انعطاف‌پذیری در حین کلاس، قابلیتی برای بازبینی و ویرایش وضعیت برندگان قبلی در همان جلسه فراهم شده است.

ناوبری تاریخچه: با استفاده از دکمه‌های نشان دهنده ی جهت در کنار نام برنده، می‌توان تا ۱۰ انتخاب قبلی را مرور کرد.

همگام‌سازی دسته‌بندی: هنگام بازگشت به یک برنده قبلی، دسته‌بندی فعال نیز به صورت خودکار به دسته‌بندی مربوط به همان انتخاب تغییر می‌کند تا از ثبت نمره یا آمار اشتباه جلوگیری شود.

بازخورد هوشمند: در صورتی که کاربر روی دکمه‌های ناوبری غیرفعال (در ابتدا یا انتهای تاریخچه) کلیک کند، یک انیمیشن لرزشی کوتاه به عنوان بازخورد بصری نمایش داده می‌شود.

۱۳. یادداشت‌گذاری در سطح کلاس و جلسه (Class & Session Notes)
یادداشت برای کلاس: برای هر کلاس می‌توان یک یادداشت کلی ثبت کرد که از طریق آیکون 📝 در لیست کلاس‌ها قابل دسترس است.

یادداشت برای جلسه: هر جلسه نیز قابلیت داشتن یادداشت مجزا را دارد که به معلم اجازه می‌دهد نکات مربوط به آن جلسه خاص را ثبت کند.

رابط کاربری هوشمند: آیکون یادداشت در صورتی که یادداشتی وجود داشته باشد، پررنگ‌تر نمایش داده می‌شود تا دسترسی سریع را ممکن سازد.

۱۴. پشتیبانی هوشمند از متن‌های راست‌چین و چپ‌چین (Smart RTL/LTR Support)
تشخیص خودکار: تمامی کادرهای ورود متن (یادداشت‌ها، توضیحات نمره و ...) به صورت خودکار جهت متن (راست‌چین یا چپ‌چین) را بر اساس اولین کاراکتر تایپ شده تشخیص داده و تنظیم می‌کنند.

نمایش صحیح: متن‌های ذخیره شده نیز با همان جهت‌گیری صحیح نمایش داده می‌شوند و مشکل چینش علائم نگارشی در متن‌های دوزبانه (فارسی و انگلیسی) به طور کامل حل شده است.

۱۵. ویرایش مستقیم و سریع (Click-to-Edit)
برای افزایش سرعت و راحتی، اکنون می‌توانید مستقیماً روی موارد زیر در صفحه پروفایل دانش‌آموز کلیک کنید:

نام دانش‌آموز: برای تغییر سریع نام.

متن یادداشت‌ها: برای ویرایش یادداشت‌های قبلی.

توضیحات نمرات: برای اصلاح یا تکمیل توضیحات ثبت‌شده برای یک نمره.

با کلیک روی هر یک از این موارد، پنجره ویرایش باز شده و به شما اجازه می‌دهد به سرعت تغییرات خود را اعمال و ذخیره کنید.

یک افکت هاور بصری نیز به کاربر اطلاع می‌دهد که کدام متن‌ها قابل ویرایش هستند.

۱۶. منوی زمینه هوشمند (راست-کلیک)
برای ایجاد یک رابط کاربری مدرن و خلوت، اقدامات ثانویه (مانند تغییر نام, حذف, تنظیمات, لغو و جبرانی) از لیست اصلی کلاس‌ها و جلسات به یک منوی راست-کلیک هوشمند منتقل شده‌اند. این طراحی باعث می‌شود تا تمرکز کاربر بر روی اطلاعات اصلی باقی بماند و از شلوغی بصری جلوگیری شود و تجربه‌ای شبیه به نرم‌افزارهای دسکتاپ ارائه دهد.

۱۷. قابلیت نصب (PWA) و استفاده آفلاین
این برنامه یک اپلیکیشن وب پیش‌رونده (PWA) است که توسط `vite-plugin-pwa` مدیریت می‌شود.

* **تجربه کاربری مشابه اپلیکیشن:** پس از نصب، برنامه در یک پنجره مستقل و بدون نوار آدرس مرورگر اجرا می‌شود.
* **عملکرد آفلاین:** به لطف Service Worker که به صورت خودکار تولید می‌شود، تمام فایل‌های اصلی برنامه (شامل فونت‌ها) در حافظه دستگاه شما ذخیره (Cache) می‌شوند.
* **به‌روزرسانی هوشمند:** فرآیند به‌روزرسانی Service Worker به صورت خودکار مدیریت می‌شود و اطمینان می‌دهد که کاربران همیشه آخرین نسخه برنامه را بدون مشکل دریافت می‌کنند.
* **دسترسی سریع:** با نصب برنامه، آیکون آن به صفحه اصلی (Home Screen) دستگاه شما اضافه می‌شود.

🤫 قابلیت‌های مخفی (Easter Eggs)
ساخت کلاس تستی: با ۵ کلیک سریع روی «لیست کلاس‌ها»، یک کلاس آزمایشی ایجاد می‌شود.

صفر کردن آمارها: با ۵ کلیک سریع روی «آمار عملکرد دانش‌آموزان»، تمام شمارنده‌ها صفر می‌شوند.

نکته: هر دو عملیات با یک پنجره تأیید انجام می‌گیرند.

18. فرایند همسان‌سازی منصفانه برای دانش‌آموزان جدید

به منظور حفظ انصاف و یکپارچگی الگوریتم انتخاب هوشمند، یک فرایند همسان‌سازی ویژه زمانی آغاز می‌شود که دانش‌آموز جدیدی به کلاسی اضافه شود که از قبل جلسات فعالی داشته است. این فرایند به طور خودکار آمار پایه‌ای را به دانش‌آموز جدید اختصاص می‌دهد تا اطمینان حاصل شود که او به نرمی و بدون برهم زدن تعادل انتخاب، با کلاس یکپارچه می‌شود.

منطق این فرایند از یک رویکرد پیچیده و مبتنی بر نرخ (Rate-based) پیروی می‌کند:

ثبت غیبت‌های گذشته: دانش‌آموز به طور خودکار برای تمام جلسات گذشته «غایب» ثبت می‌شود تا سابقه تاریخی دقیقی برای او ایجاد گردد.

شمارنده‌های انتخاب (فرصت): برای جلوگیری از ایجاد مزیت ناعادلانه، شمارنده انتخاب دانش‌آموز برای هر دسته‌بندی (categoryCounts) با مقدار بیشینه (maximum) موجود در میان سایر دانش‌آموزان کلاس مقداردهی اولیه می‌شود. این کار عملاً او را در گروهی قرار می‌دهد که اخیراً انتخاب شده‌اند.

محاسبه نرخ عملکرد: سیستم به محاسبه نرخ عملکرد میانگین در سطح کلاس می‌پردازد (مثلاً نسبت «فرصت‌های از دست رفته» به «کل انتخاب‌ها» و نسبت «مشکلات در یک دسته‌بندی» به «کل انتخاب‌ها در همان دسته‌بندی»).

اعمال نرخ به شمارنده‌های عملکرد: سپس این نرخ‌ها بر روی شمارنده‌های انتخاب اولیه دانش‌آموز جدید اعمال می‌شوند تا آمار عملکردی او مانند «فرصت‌های از دست رفته» (missedChances) و «مشکلات در دسته‌بندی‌ها» (categoryIssues) استخراج شوند. این روش تضمین می‌کند که آمار عملکردی او از نظر منطقی سازگار و متناسب با میانگین کلاس است.

اطلاع‌رسانی به کاربر: پس از تکمیل فرایند همسان‌سازی، یک مودال تایید به کاربر نمایش داده می‌شود تا اطلاع دهد که آمار پایه‌ای با موفقیت برای دانش‌آموز ثبت شده است.
در پایان هم یک یادداشت به پروفایل دانش آموز اضافه می شود که اطلاعات مربوط به نحوه ی اضافه شدن او به کلاس را شامل می شود. 

🛠️ تکنولوژی‌های استفاده‌شده
این پروژه با ابزارهای مدرن وب توسعه داده شده است تا از عملکرد بهینه و قابلیت نگهداری بالا اطمینان حاصل شود.

* **Vite:** به عنوان ابزار ساخت (Build Tool) و سرور توسعه محلی عمل می‌کند. قابلیت‌هایی مانند Hot Module Replacement (HMR)، باندل کردن کدها و بهینه‌سازی برای محیط پروداکشن را فراهم می‌کند.
* **JavaScript (ES6+):** هسته اصلی برنامه با جاوااسکریپت خالص و معماری ماژولار نوشته شده است.
* **PWA Support via `vite-plugin-pwa`:** این پلاگین به صورت خودکار فایل‌های Service Worker و Manifest را تولید می‌کند. با استفاده از کتابخانه Workbox گوگل، قابلیت‌های پیشرفته آفلاین و استراتژی‌های هوشمند Caching را پیاده‌سازی می‌کند.
* **HTML5 & CSS3:** برای ساختار و طراحی رابط کاربری.
* **LocalStorage API:** برای ذخیره‌سازی تمام داده‌های برنامه در مرورگر کاربر.

📂 نحوه استفاده
برای توسعه و اجرای این پروژه، به Node.js و npm نیاز دارید.

1.  **نصب وابستگی‌ها:**
    پس از Clone کردن پروژه، در ترمینال دستور زیر را اجرا کنید:
    ```bash
    npm install
    ```

2.  **اجرا در حالت توسعه (Development):**
    برای راه‌اندازی سرور توسعه محلی با قابلیت Live Reload، از دستور زیر استفاده کنید:
    ```bash
    npm run dev
    ```
    سپس آدرس لوکال نمایش داده شده (مثلاً `http://localhost:5173`) را در مرورگر خود باز کنید.

3.  **ساخت نسخه نهایی (Production):**
    برای ساخت نسخه بهینه‌سازی شده و نهایی برنامه، دستور زیر را اجرا کنید:
    ```bash
    npm run build
    ```
    تمام فایل‌های نهایی در پوشه `dist` قرار خواهند گرفت.

4. .  **(اختیاری) راه‌اندازی HTTPS برای تست روی موبایل**
    برخی از قابلیت‌های مدرن وب، مانند Web Share API، برای اجرا به یک بستر امن (HTTPS) نیاز دارند. برای تست این قابلیت‌ها روی گوشی موبایل از طریق سرور توسعه محلی (dev server)، مراحل زیر را دنبال کنید. این فرآیند از ابزار `mkcert` برای ساخت گواهی SSL محلی و قابل اعتماد استفاده می‌کند.

    * **مرحله اول: نصب `mkcert`**
        اگر از ویندوز استفاده می‌کنید، ساده‌ترین راه نصب از طریق پکیج منیجر Chocolatey است.
        ```bash
        choco install mkcert
        ```

    * **مرحله دوم: نصب مرجع گواهی محلی (Local CA)**
        این دستور را اجرا کنید تا کامپیوتر شما به گواهی‌های صادر شده توسط `mkcert` اعتماد کند. این یک مرحله یک‌بار برای همیشه است.
        ```bash
        mkcert -install
        ```

    * **مرحله سوم: خودکارسازی ساخت گواهی**
        از آنجایی که آدرس IP محلی شما ممکن است تغییر کند، یک اسکریپت به نام `generate-cert.js` در پروژه تعبیه شده است. این اسکریپت با استفاده از پکیج `internal-ip`، آدرس IP فعلی شما را پیدا کرده و یک گواهی SSL معتبر برای `localhost` و آن IP تولید می‌کند. این فرآیند به صورت خودکار با هر بار اجرای دستور `npm run dev` انجام می‌شود.

    * **مرحله چهارم: اعتماد گوشی موبایل به گواهی**
        کامپیوتر شما اکنون به گواهی اعتماد دارد، اما گوشی شما نه. برای جلب اعتماد گوشی، باید گواهی ریشه `mkcert` را روی آن نصب کنید:
        1.  دستور `mkcert -CAROOT` را در ترمینال خود اجرا کنید تا مسیر پوشه‌ای که گواهی ریشه در آن قرار دارد نمایش داده شود.
        2.  فایل `rootCA.pem` را از آن پوشه پیدا کرده و به گوشی خود منتقل کنید (مثلاً از طریق ایمیل).
        3.  روی گوشی خود، فایل را باز کرده و پروفایل گواهی را نصب کنید.
        4.  **نکته بسیار مهم برای iOS:** پس از نصب، به مسیر `Settings > General > About > Certificate Trust Settings` رفته و سوییچ مربوط به گواهی `mkcert` را روشن کنید.

    پس از انجام این مراحل، با اجرای `npm run dev`، می‌توانید آدرس `https` نمایش داده شده در ترمینال را روی مرورگر گوشی خود باز کرده و قابلیت‌هایی مانند اشتراک‌گذاری فایل را به صورت کاملاً امن تست کنید.

📄 لایسنس
این پروژه تحت لایسنس MIT منتشر شده است.

🚀 استقرار و به‌روزرسانی (Deployment & Updates)

* **راه‌اندازی خودکار:** هر بار که تغییرات جدیدی به شاخه `main` پوش می‌شود، یک Workflow به صورت خودکار اجرا می‌شود.
* **فرآیند ساخت:** این Workflow وظیفه نصب وابستگی‌ها و ساخت نسخه نهایی پروژه (`npm run build`) را بر روی سرورهای GitHub بر عهده دارد.
* **انتشار در GitHub Pages:** پس از ساخت موفق، نسخه نهایی به صورت خودکار در GitHub Pages منتشر می‌شود.
* **جریان کار ساده:** تنها کاری که توسعه‌دهنده برای به‌روزرسانی نسخه زنده باید انجام دهد، Merge کردن تغییرات خود در شاخه `main` است.