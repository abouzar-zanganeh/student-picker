# 📚 معرفی برنامه دستیار هوشمند معلم (Smart Teacher's Assistant)

یک ابزار تحت وب، مدرن و هوشمند برای کمک به معلمان در مدیریت کلاس، ثبت دقیق فعالیت‌ها و انتخاب عادلانه دانش‌آموزان برای مشارکت در کلاس. این برنامه به صورت کاملاً سمت کاربر (Client-Side) و با جاوااسکریپت خالص (Vanilla JS) نوشته شده و تمام داده‌ها را به صورت امن در حافظه مرورگر شما (`localStorage`) ذخیره می‌کند.

---

## 🎯 فلسفه اصلی برنامه

هدف اصلی این دستیار، حل دو چالش بزرگ در کلاس درس است:

1.  مشارکت عادلانه: اطمینان از اینکه تمام دانش‌آموزان به یک اندازه شانس مشارکت در فعالیت‌های کلاسی را داشته باشند.
2.  ردگیری دقیق عملکرد: علاوه بر ثبت نمرات، ثبت داده‌های آماری دقیق و کاربردی از عملکرد هر دانش‌آموز در طول ترم.

---

## 🚀 ویژگی‌های کلیدی

### ۱. انتخابگر هوشمند و منصفانه (الگوریتم چند سطحی)

این برنامه از یک الگوریتم انتخاب چندمرحله‌ای و بسیار دقیق استفاده می‌کند تا عدالت آموزشی را به حداکثر برساند:

*   **فیلتر اولیه (بر اساس دسته‌بندی فعلی):**
    1.  ابتدا، سیستم کمترین تعداد انتخاب را در **دسته‌بندی فعال** (مثلاً "گرامر") شناسایی می‌کند.
    2.  سپس، لیستی از تمام دانش‌آموزانی که با این تعداد انتخاب برابر هستند تهیه می‌کند (کاندیداهای اولیه).

*   **اولین گره‌گشا (بر اساس سایر دسته‌بندی‌ها):**
    1.  اگر در مرحله قبل فقط یک نفر کاندیدا باشد، او انتخاب می‌شود.
    2.  در صورت وجود چند کاندیدا (گره)، سیستم مجموع انتخاب‌های هر یک از آن‌ها را در **سایر دسته‌بندی‌ها** محاسبه می‌کند.
    3.  دانش‌آموزی که کمترین مجموع را در سایر دسته‌بندی‌ها داشته باشد، به عنوان برنده انتخاب می‌شود. این کار به دانش‌آموزانی که در مجموع کمتر مشارکت داشته‌اند، فرصت بیشتری می‌دهد.

*   **گره‌گشای نهایی (انتخاب تصادفی):**
    1.  اگر پس از بررسی سایر دسته‌بندی‌ها هنوز هم چند دانش‌آموز با شرایط کاملاً یکسان وجود داشته باشند، سیستم به صورت **تصادفی** یک نفر را از بین آن‌ها انتخاب می‌کند تا عدالت کامل رعایت شود.

این الگوریتم تضمین می‌کند که انتخاب‌ها نه تنها در یک موضوع خاص، بلکه در کل فعالیت‌های کلاسی به صورت متوازن توزیع شوند.

### ۲. سیستم جامع آمار و عملکرد

برنامه به ازای هر دانش‌آموز، آمارهای دقیقی را ثبت و نمایش می‌دهد:

*   کل انتخاب: تعداد کل دفعاتی که دانش‌آموز توسط سیستم انتخاب شده است.
*   غیبت: تعداد کل جلساتی که دانش‌آموز در آن‌ها غایب بوده است (این آمار در لحظه محاسبه می‌شود).
*   فرصت از دست رفته (`missedChances`): تعداد دفعاتی که دانش‌آموز *انتخاب شده*، اما به دلیل غیبت یا مشکل فنی فرصت مشارکت را از دست داده است.
*   مشکل: تعداد دفعاتی که دانش‌آموز *انتخاب شده*، اما به دلیل مشکلات فنی یا موارد دیگر نتوانسته مشارکت کند.

### ۳. سیستم کامل حضور و غیاب

*   حضور و غیاب اولیه: در ابتدای هر جلسه می‌توانید لیست حضور و غیاب را به سرعت تکمیل کنید.
*   قابلیت بازبینی و ویرایش: در هر لحظه از جلسه می‌توانید به صفحه حضور و غیاب برگشته و وضعیت دانش‌آموزان را ویرایش کنید.

### ۴. مدیریت پیشرفته وضعیت جلسه

*   انحصار متقابل: یک دانش‌آموز نمی‌تواند همزمان "غایب" و دارای "مشکل" باشد. با فعال کردن یکی، دیگری غیرفعال می‌شود.
*   حفظ وضعیت: برنامه آخرین دسته‌بندی و آخرین دانش‌آموز انتخاب شده را به خاطر می‌سپارد. اگر به صفحه حضور و غیاب بروید و برگردید، کار خود را دقیقاً از همانجایی که رها کرده بودید ادامه خواهید داد.

### ۵. مدیریت پیشرفته جلسات

*   **نشانگرهای وضعیت:** هر جلسه در لیست جلسات دارای نشانگرهای بصری است که وضعیت آن را به وضوح نمایش می‌دهد:
    *   **خاتمه یافته:** جلساتی که به پایان رسیده‌اند.
    *   **جبرانی:** جلساتی که به عنوان جلسه جبرانی علامت‌گذاری شده‌اند.
*   **کنترل کامل جلسه:** در کنار هر جلسه، دکمه‌های کنترلی برای مدیریت سریع وضعیت آن قرار دارد:
    *   **خاتمه جلسه (✅):** به شما اجازه می‌دهد یک جلسه فعال را به صورت دستی خاتمه دهید.
    *   **تغییر وضعیت جبرانی (🔄):** وضعیت "جبرانی" یک جلسه را به سادگی فعال یا غیرفعال می‌کند.
    *   **حذف جلسه (🗑️):** امکان حذف کامل یک جلسه. این عمل که از طریق یک پنجره تایید سفارشی انجام می‌شود، دارای قابلیت واگرد (Undo) است تا از حذف تصادفی جلوگیری شود.

### ۶. مدیریت کلاس و دانش‌آموزان

*   ایجاد کلاس‌های متعدد با قابلیت تعیین نوع (حضوری / آنلاین).
*   سه روش بسیار کاربردی برای افزودن دانش‌آموز: دستی، کپی/پیست کردن لیست، و ورود از طریق فایل `CSV`.
*   قابلیت تعریف و مدیریت دسته‌بندی‌های مختلف برای پرسش (e.g., Grammar, Speaking).
*   **نمایش آمار کلاس در لیست:** در صفحه مدیریت کلاس‌ها، تعداد دانش‌آموزان و تعداد جلسات هر کلاس به صورت خلاصه نمایش داده می‌شود.

### ۷. پروفایل دانش‌آموز و سیستم نمره‌دهی

*   **صفحه پروفایل جامع**: برای هر دانش‌آموز یک صفحه پروفایل اختصاصی وجود دارد که تمام سوابق عملکردی او را در یک نگاه نمایش می‌دهد.
*   **نمره‌دهی دقیق**: قابلیت ثبت نمره برای ۴ مهارت اصلی (Listening, Speaking, Reading, Writing) به همراه توضیحات اختیاری برای هر نمره.
*   **تاریخچه کامل نمرات**: تمام نمرات ثبت‌شده برای یک دانش‌آموز به همراه تاریخ و توضیحات در پروفایل او به صورت مرتب نمایش داده می‌شود.
*   **دسترسی سریع**: پس از انتخاب دانش‌آموز در صفحه جلسه، با یک کلیک می‌توان به پروفایل او دسترسی پیدا کرد.

### ۸. جستجوی سریع دانش‌آموز

*   **جستجوی سراسری دانش‌آموزان:** یک نوار جستجوی جدید در صفحه اصلی (مدیریت کلاس‌ها) اضافه شده که به معلم اجازه می‌دهد به سرعت هر دانش‌آموزی را در *تمام کلاس‌ها* پیدا کرده و مستقیماً به صفحه پروفایل او برود.
*   **جستجوی دانش‌آموز در کلاس فعال:** نوار جستجوی موجود در صفحه جلسه (انتخابگر هوشمند) اکنون فقط دانش‌آموزان کلاس فعال را فیلتر می‌کند.
*   **رابط کاربری پیشرفته جستجو:** هر دو نوار جستجو دارای انیمیشن اسلاید-این (Slide-in) و اسلاید-اوت (Slide-out) هستند که با کلیک روی آیکون ذره‌بین فعال می‌شوند و با از دست دادن فوکوس (blur) به صورت خودکار پنهان می‌شوند.

### ۹. نمایش سریع سوابق دانش‌آموز

*   **دسترسی آنی به داده‌ها**: بلافاصله پس از انتخاب یک دانش‌آموز توسط "انتخابگر هوشمند"، خلاصه‌ای از سوابق کلیدی او در همان صفحه نمایش داده می‌شود.
*   **نمایش آخرین نمرات**: لیستی فشرده از آخرین نمرات دانش‌آموز در مهارت‌های اصلی (Reading, Writing, Speaking, Listening) نمایش داده می‌شود. در صورتی که نمره‌ای برای یک مهارت ثبت نشده باشد، با برچسب "none" مشخص می‌شود.
*   **مرور سریع یادداشت‌ها**: تمام یادداشت‌های ثبت شده برای دانش‌آموز به ترتیب از جدیدترین به قدیمی‌ترین نمایش داده می‌شوند تا معلم به سرعت در جریان آخرین وضعیت او قرار گیرد.
*   **کاهش کلیک**: این قابلیت نیاز به مراجعه به صفحه پروفایل کامل دانش‌آموز برای بررسی‌های سریع را از بین برده و ارزیابی در لحظه را بسیار کارآمدتر می‌کند.

### ۱۰. رابط کاربری ایمن و مدرن

*   **منوی همبرگری (Hamburger Menu):** برای دسترسی آسان به قابلیت‌های کلی برنامه، یک منوی کناری تعبیه شده است که با کلیک بر روی آیکون همبرگر در هدر اصلی باز می‌شود. این منو شامل گزینه‌هایی مانند پشتیبان‌گیری و بازیابی اطلاعات است.
*   **پنجره‌های تایید سفارشی:** تمام عملیات‌های حساس (مانند حذف کلاس یا جلسه) از طریق پنجره‌های تایید سفارشی انجام می‌شود که ظاهری یکپارچه با برنامه داشته و از حذف تصادفی داده‌ها جلوگیری می‌کند.
*   **قابلیت واگرد (Undo):** پس از حذف یک آیتم (مانند کلاس، جلسه یا دانش‌آموز)، یک پیام موقت نمایش داده می‌شود که به کاربر اجازه می‌دهد عملیات را لغو کرده و داده‌ها را بازگرداند.
*   **میانبرهای صفحه کلید:** برای افزایش سرعت کاربری، میانبرهای صفحه کلید در برنامه تعبیه شده‌اند:
    *   **کلید `Esc`:** در هر صفحه‌ای از برنامه، فشردن این کلید معادل کلیک روی دکمه "Back" مرورگر عمل کرده و شما را به صفحه قبلی بازمی‌گرداند.

### ۱۱. پشتیبان‌گیری و بازیابی اطلاعات

*   **پشتیبان‌گیری (Backup):** از طریق منوی همبرگری، می‌توانید از تمام داده‌های برنامه (شامل کلاس‌ها، دانش‌آموزان، جلسات و آمارها) یک فایل پشتیبان با فرمت `JSON` تهیه کنید. نام فایل به صورت خودکار با تاریخ شمسی همان روز (مثلاً `teacher-assistant-backup-۱۴۰۳-۰۴-۲۵.json`) تولید می‌شود تا شناسایی آن آسان باشد.
*   **بازیابی (Restore):** در هر زمان می‌توانید با انتخاب فایل پشتیبان `JSON`، تمام اطلاعات برنامه را بازیابی کنید. قبل از انجام این کار، یک پیام هشدار نمایش داده می‌شود تا از جایگزینی تصادفی داده‌های فعلی جلوگیری شود.

---

## 🤫 قابلیت‌های مخفی (Easter Eggs)

دو قابلیت مخفی برای خطایابی سریع در برنامه تعبیه شده است:

*   ساخت کلاس تستی: ۵ بار کلیک سریع (با فاصله کمتر از نیم ثانیه) روی عنوان «لیست کلاس‌ها»، یک کلاس تستی کامل با ۵ دانش‌آموز و چندین جلسه با داده‌های تصادفی ایجاد می‌کند.
*   صفر کردن آمارها: ۵ بار کلیک سریع روی عنوان «آمار عملکرد دانش‌آموزان» در صفحه جلسه، شمارنده‌های تمام دانش‌آموزان در تمام کلاس‌ها را صفر می‌کند.

نکته: هر دو قابلیت قبل از اجرا، یک پنجره تأیید نمایش می‌دهند.

---

## 🛠️ تکنولوژی‌های استفاده شده

این پروژه به صورت کاملاً Vanilla و بدون هیچ فریمورک یا کتابخانه جانبی برای منطق اصلی توسعه داده شده است.

*   HTML5
*   CSS3 (با استفاده از متغیرها برای مدیریت تم)
*   JavaScript (ES6+) با معماری ماژولار برای خوانایی و نگهداری بهتر کد (فایل‌های `main.js`, `models.js`, `state.js`, `ui.js`)
*   LocalStorage API برای ذخیره‌سازی داده‌ها در مرورگر

---

## 📂 نحوه استفاده

این پروژه کاملاً سمت کاربر است و نیازی به نصب هیچ ابزاری ندارد.

1.  پروژه را دانلود کرده و از حالت فشرده خارج کنید.
2.  فایل `index.html` را در مرورگر وب خود باز کنید.
3.  همین! نرم‌افزار آماده استفاده است.

---

## 📄 لایسنس

این پروژه تحت لایسنس MIT منتشر شده است.